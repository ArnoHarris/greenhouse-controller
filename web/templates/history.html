{% extends "base.html" %}

{% block content %}
<div class="two-col-layout">

  <!-- LEFT: Temperature -->
  <div class="panel chart-panel">
    <div class="panel-title">temperature</div>

    <div class="chart-controls">
      <div class="range-select-wrap">
        <span class="range-icon">ğŸ•</span>
        <select id="temp-range" class="range-select" onchange="loadTempChart()">
          <option value="1h">Last 1 hour</option>
          <option value="24h" selected>Last 24 hours</option>
          <option value="7d">Last 7 days</option>
          <option value="30d">Last 30 days</option>
          <option value="1y">Last year</option>
        </select>
        <span class="range-arrow">â–¼</span>
      </div>
      <div class="date-nav">
        <button class="date-nav-btn" onclick="shiftTempRange(-1)">â€¹</button>
        <span class="date-nav-label" id="temp-date-label">â€”</span>
        <button class="date-nav-btn" onclick="shiftTempRange(+1)">â€º</button>
      </div>
    </div>

    <div class="chart-wrap">
      <canvas id="temp-chart"></canvas>
    </div>

    <div class="chart-stats three-col-stats">
      <span class="stat-corner"></span>
      <span class="stat-col-hdr">Indoor</span>
      <span class="stat-col-hdr">Outdoor</span>
      <span class="stat-lbl">Avg</span>
      <span class="stat-val" id="temp-avg-in">â€”</span>
      <span class="stat-val" id="temp-avg-out">â€”</span>
      <span class="stat-lbl">Max</span>
      <span class="stat-val" id="temp-max-in">â€”</span>
      <span class="stat-val" id="temp-max-out">â€”</span>
      <span class="stat-lbl">Min</span>
      <span class="stat-val" id="temp-min-in">â€”</span>
      <span class="stat-val" id="temp-min-out">â€”</span>
    </div>
  </div>

  <!-- RIGHT: Relative Humidity -->
  <div class="panel chart-panel">
    <div class="panel-title">relative humidity</div>

    <div class="chart-controls">
      <div class="range-select-wrap">
        <span class="range-icon">ğŸ•</span>
        <select id="hum-range" class="range-select" onchange="loadHumChart()">
          <option value="1h">Last 1 hour</option>
          <option value="24h" selected>Last 24 hours</option>
          <option value="7d">Last 7 days</option>
          <option value="30d">Last 30 days</option>
          <option value="1y">Last year</option>
        </select>
        <span class="range-arrow">â–¼</span>
      </div>
      <div class="date-nav">
        <button class="date-nav-btn" onclick="shiftHumRange(-1)">â€¹</button>
        <span class="date-nav-label" id="hum-date-label">â€”</span>
        <button class="date-nav-btn" onclick="shiftHumRange(+1)">â€º</button>
      </div>
    </div>

    <div class="chart-wrap">
      <canvas id="hum-chart"></canvas>
    </div>

    <div class="chart-stats three-col-stats">
      <span class="stat-corner"></span>
      <span class="stat-col-hdr">Indoor</span>
      <span class="stat-col-hdr">Outdoor</span>
      <span class="stat-lbl">Avg</span>
      <span class="stat-val" id="hum-avg-in">â€”</span>
      <span class="stat-val" id="hum-avg-out">â€”</span>
      <span class="stat-lbl">Max</span>
      <span class="stat-val" id="hum-max-in">â€”</span>
      <span class="stat-val" id="hum-max-out">â€”</span>
      <span class="stat-lbl">Min</span>
      <span class="stat-val" id="hum-min-in">â€”</span>
      <span class="stat-val" id="hum-min-out">â€”</span>
    </div>
  </div>

</div>
{% endblock %}

{% block page_script %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script>
  initHistoryPage();
</script>
{% endblock %}
