<!-- Controls panel — shared between dashboard and energy pages -->
<div class="panel controls-panel">
  <div class="panel-title">controls</div>

  <div class="controls-grid">

    <!-- Row 1: top spacer -->
    <div class="ctrl-spacer"></div>

    <!-- Row 2: Legend + Auto Control button -->
    <div class="auto-control-row">
      <div class="legend-box">
        <span class="legend-item"><span class="legend-dot auto-dot"></span>Auto Control</span>
        <span class="legend-item"><span class="legend-dot manual-dot"></span>Override</span>
      </div>
      <button class="auto-control-btn" id="btn-auto-control" onclick="toggleAutoControl()">
        AUTO CONTROL
      </button>
    </div>

    <!-- Row 2: Shades -->
    <button class="ctrl-btn shade-btn" id="btn-shades-east"
            data-actuator="shades_east"
            data-cmd-on='{"position":"closed"}'
            data-cmd-off='{"position":"open"}'>
      <span class="btn-dot" id="dot-shades-east"></span>
      <span class="btn-label">East Shades</span>
    </button>

    <button class="ctrl-btn shade-btn" id="btn-shades-west"
            data-actuator="shades_west"
            data-cmd-on='{"position":"closed"}'
            data-cmd-off='{"position":"open"}'>
      <span class="btn-dot" id="dot-shades-west"></span>
      <span class="btn-label">West Shades</span>
    </button>

    <!-- Row 3: Fans -->
    <button class="ctrl-btn fan-btn" id="btn-fan"
            data-actuator="fan"
            data-cmd-on='{"on":true}'
            data-cmd-off='{"on":false}'>
      <span class="btn-dot" id="dot-fan"></span>
      <span class="btn-label-row">
        <span class="btn-label">Exhaust Fans</span>
        <span class="btn-timer" id="fan-timer"></span>
      </span>
    </button>

    <button class="ctrl-btn fan-btn" id="btn-circ-fans"
            data-actuator="circ_fans"
            data-cmd-on='{"on":true}'
            data-cmd-off='{"on":false}'>
      <span class="btn-dot" id="dot-circ-fans"></span>
      <span class="btn-label"><span class="label-full">Circulating Fans</span><span class="label-short">Circ Fans</span></span>
    </button>

    <!-- Row 4: HVAC — tap setpoint blocks to open tape picker -->
    <div class="hvac-row">
      <div class="hvac-setpoint heat" id="hvac-heat-block"
           onclick="openTape('heat', this)">
        <span class="sp-value" id="heat-setpoint">60°</span>
        <span class="sp-hint">tap to set</span>
      </div>

      <button class="hvac-center ctrl-btn" id="btn-hvac"
              data-actuator="hvac"
              data-cmd-on='{"mode":"auto"}'
              data-cmd-off='{"mode":"off"}'>
        <span class="btn-dot" id="dot-hvac"></span>
        <span class="btn-label">HVAC ON/OFF</span>
      </button>

      <div class="hvac-setpoint cool" id="hvac-cool-block"
           onclick="openTape('cool', this)">
        <span class="sp-value" id="cool-setpoint">80°</span>
        <span class="sp-hint">tap to set</span>
      </div>
    </div>

    <!-- Row 5: bottom spacer (padding) -->
    <div class="ctrl-spacer"></div>

  </div><!-- /controls-grid -->
</div><!-- /controls-panel -->

<!-- Tape picker overlay (one shared instance) -->
<div id="setpoint-tape" class="tape-overlay" style="display:none" aria-hidden="true">
  <div class="tape-track">
    <div class="tape-items" id="tape-items"></div>
  </div>
  <div class="tape-center-indicator"></div>
  <button class="tape-close" onclick="closeTape(false)">✕</button>
</div>
<div id="tape-backdrop" class="tape-backdrop" style="display:none" onclick="closeTape(true)"></div>
